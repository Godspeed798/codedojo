spring.application.name=coding
server.port=8080

# 数据库配置 - 使用环境变量（生产环境）
# 开发环境默认使用 H2 内存数据库
# spring.datasource.url=jdbc:mysql://${DB_HOST:localhost}:3306/${DB_NAME:Coding}?useSSL=false&serverTimezone=Asia/Shanghai
# spring.datasource.username=${DB_USER:root}
# spring.datasource.password=${DB_PASSWORD:}
# spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# H2 数据库配置（开发环境默认）
spring.datasource.url=jdbc:h2:~/codedojo;MODE=MySQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# 数据库初始化配置
spring.sql.init.mode=always
spring.sql.init.schema-locations=classpath:schema.sql
spring.sql.init.data-locations=classpath:data.sql
spring.sql.init.encoding=UTF-8
spring.sql.init.continue-on-error=true

# JPA/Hibernate 配置
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=none

mybatis.mapper-locations=classpath:mapper/*.xml
mybatis.type-aliases-package=com.example.coding.entity
mybatis.configuration.map-underscore-to-camel-case=true

# MyBatis 日志配置 - 生产环境使用 SLF4J，开发环境可改为 StdOutImpl
# mybatis.configuration.log-impl=org.apache.ibatis.logging.stdout.StdOutImpl
mybatis.configuration.log-impl=org.apache.ibatis.logging.slf4j.Slf4jImpl

# 日志级别配置
logging.level.com.example.coding.mapper=INFO
logging.level.root=INFO

# 文件上传配置
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
